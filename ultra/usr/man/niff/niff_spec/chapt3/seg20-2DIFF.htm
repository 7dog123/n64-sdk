<html>
<basefont size=3>
<body bgcolor="#ffffffff">
<h2>第3章　バイナリフォーマット</h2>
<br>
<hr size=3>
<br>
<h3>3-20. EnvList</h3>
<br>
<hr size=3>
<br>
<h4>
(2)Envエリア
</h4>
<p>
<blockquote>
　Envエリアはシーンの環境設定を行う為のエリアです。以下のようにマッピングされています。
</blockquote>
<p>
<center>
<table border width="300">

<tr>
<td>
u32
</td>
<td>
env_tag
</td>
</tr>
<tr>
<td>
u32
</td>
<td>
this_env_index
</td>
</tr>
<tr>
<td>
u32
</td>
<td>
env_size
</td>
</tr>
<tr>
<td>
u32
</td>
<td>
env_name_index
</td>
</tr>
<tr>
<td>
u32
</td>
<td>
fog
</td>
</tr>
<tr>
<td>
u32
</td>
<td>
fog_color
</td>
</tr>
<tr>
<td>
u32
</td>
<td>
fog_near
</td>
</tr>
<tr>
<td>
u32
</td>
<td>
fog_far
</td>
</tr>
<tr>
<td>
u32
</td>
<td>
fill_color
</td>
</tr>
<tr>
<td>
u32
</td>
<td>
fill_depth
</td>
</tr>
<tr>
<td>
u32
</td>
<td>
bg_sprite_img
</td>
</tr>
<tr>
<td>
u32
</td>
<td>
bg_sprite_depth
</td>
</tr>
<tr>
<td>
u32
</td>
<td>
nintendo_extension_block
</td>
</tr>
<tr>
<td>
u32
</td>
<td>
user_extension_block
</td>
</tr>

</table>
<p>
<b>
図　Envエリアメモリマップ
</b>
<p>
<table border width="600">
<tr>
<td nowrap>
u32 env_tag
</td>
<td>
<font size=3>
Envエリアを指定するタグを記述します。下記のタグを記述してください。
<pre>
<b>
TAG_ENV&#9;0x00100100
</b>
</pre>
</td>
</tr>
<tr>
<td nowrap>
u32 this_env_index
</td>
<td>
<font size=3>
このEnvエリアのインデックス番号を記述します。
</td>
</tr>
<tr>
<td nowrap>
u32 env_size
</td>
<td>
<font size=3>
このEnvエリアのバイト数を記述します。
</td>
</tr>
<tr>
<td nowrap>
u32 env_name_index
</td>
<td>
<font size=3>
Env名を記述するNameListエリア内のインデックス番号を記述します。
</td>
</tr>
<tr>
<td nowrap>
<a href="../chapt5/seg1.htm#FOG">u32 fog</a>
</td>
<td>
<font size=3>
FOGを使用する場合は
<pre>
<b>
ENV_FOG_USE&#9;0x00000001
</b>
</pre>
を指定してください。FOGを使用しない場合は以下の値をセットしてください、
<pre>
<b>
ENV_FOG_NONE&#9;0x00000000
</b>
</pre>
</td>
</tr>
<tr>
<td nowrap>
u32 fog_color
</td>
<td>
<font size=3>
FOGを使用するときにセットします。FOGカラーを0xRRGGBBAAとしてセットします。
</td>
</tr>
<tr>
<td nowrap>
u32 fog_near
</td>
<td>
<font size=3>
FOGのかかり始める位置をセットします。nearクリッピングプレーンを0、farクリッピングプレーンを1000としてその間の値を取ります。
</td>
</tr>
<tr>
<td nowrap>
u32 fog_far
</td>
<td>
<font size=3>
FOGが飽和する位置をセットします。nearクリッピングプレーンを0、farクリッピングプレーンを1000としてその間の値を取ります。
</td>
</tr>
<tr>
<td nowrap>
<a href="../chapt5/seg1.htm#FILL_COLOR">u32 fill_color</a>
</td>
<td>
<font size=3>
フレームバッファをクリアするときのカラーをセットします。FILLカラーを0x00RRGGBBとして指定します。<br>
フレームバッファをフィルカラーでクリアしない場合は
<pre>
<b>
FILL_COLOR_NONE&#9;0xffffffff
</b>
</pre>
を指定してください。
</td>
</tr>
<tr>
<td nowrap>
<a href="../chapt5/seg1.htm#FILL_DEPTH">u32 fill_depth</a>
</td>
<td>
<font size=3>
Zバッファをクリアするときのカラーを使います。FILLカラーを0x00RRGGBBとして指定します。<br>
ZバッファをFILLカラーでクリアしない場合は
<pre>
<b>
FILL_DEPTH_NONE	0xffffffff
</b>
</pre>
を指定してください。
</td>
</tr>
<tr>
<td nowrap>
<a href="../chapt5/seg1.htm#BG_SPRITE_IMG">u32 bg_sprite_img</a>
</td>
<td>
<font size=3>
BGにテクスチャイメージを使用する場合に使用します。TexList内のインデックス番号を指定します。<br>
BGにテクスチャイメージを使用しない場合は
<pre>
<b>
BG_COLOR_IMG_NONE	0xffffffff
</b>
</pre>
を指定してください。

</td>
</tr>
<tr>
<td nowrap>
<a href="../chapt5/seg1.htm#BG_SPRITE_DEPTH">u32 bg_sprite_depth</a>
</td>
<td>
<font size=3>
BGに深さイメージを仕様する場合に使用します。TexList内のインデックス番号を指定します。<br>
BGに深さイメージを使用しない場合は
<pre>
<b>
BG_DEPTH_IMG_NONE	0xffffffff
</b>
</pre>
を指定してください。

</td>
</tr>
<tr>
<td nowrap>
u32 nintendo_extension_block_size
</td>
<td>
<font size=3>
任天堂拡張ブロックサイズ
</td>
</tr>
<tr>
<td nowrap>
u32 user_extension_block_size
</td>
<td>
<font size=3>
ユーザー拡張ブロックサイズ
</td>
</tr>
<tr>
<td nowrap>
NintendoExtensionBlock
</td>
<td>
<font size=3>
任天堂拡張ブロック
</td>
</tr>
<tr>
<td nowrap>
UserExtensinoBlock
</td>
<td>
<font size=3>
ユーザー拡張ブロック
</td>
</tr>
</table>
</center>
<p>

<hr>
<font size=-1>
Copyright 1997 NINTENDO Co.,Ltd. All rights reserved.
</font>

<p align="right"><a href="../index.htm">
目次へ
<img src="../../../gif/index.gif"
border="0" width="65" height="17"></a>
<a href="./seg21.htm">
次へ
<img src="../../../gif/next.gif"
border="0" width="65" height="17"></a></p>

</body>
</html>


