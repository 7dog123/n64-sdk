<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<body bgcolor="#FFFFFF">

<p><font size="6"><strong><img src="../nusystem2.gif" width="176"
height="30"></strong></font><font size="5"><strong>Function</strong></font></p>

<hr>

<pre><font size="5"><strong>nuContPakFileReadWrite</strong></font></pre>

<hr>

<pre><font size="4"><strong>Syntax:</strong></font></pre>

<pre>s32 nuContPakFileReadWrite(NUContPakFile *file,<br>
s32 offset, s32 size,u8* buf, u32 mode)</pre>

<pre><font size="4"><strong>Arguments:</strong></font></pre>

<pre>*file	Controller Pak structure
offset	Read/write offset position
size	Read/write size
*buf	Buffer where read data is to be stored
                   or the buffer where data to be written is stored.
mode	Specifies whether to read or write
	<strong>NU_CONT_PAK_READ</strong>	Read data
	<strong>NU_CONT_PAK_WRITE</strong>	Write data</pre>

<pre><font size="4"><strong>Return Value:</strong></font></pre>

<pre>Error</pre>

<pre><font size="4"><strong>Explanation:</strong></font></pre>

<p>Read/write Controller Pak game note's game data</p>

<p>Reads game data from Controller Pak's game note or writes game data to the Controller Pak's game note.
   "file" specifies the Controller Pak structure in the game note opened by the nuContPakFileOpen function in the device opened by the nuContPakOpen function. "size" bytes of data are read or written starting from the "offset" position.</p>

<p>When NU_CONT_PAK_READ is specified for the mode, data is read into the area specified with "buf."  When NU_CONT_PAK_WRITE is specified for the mode, the data specified with "buf" is written to the Controller Pak.  
   Both "offset" and "size" must be multiples of 32 and they must be smaller than the file size.</p>

<p>The value returned from the osPfsFileReadWrite function is stored in file.error.</p>

<p><strong>Errors:</strong></p>

<p>PFS_ERR_NOPACK</p>

<p>Nothing is inserted in the specified Controller.</p>

<p>PFS_ERR_NEW_PACK</p>

<p>The Controller Pak may have been changed.  Please perform the Open process again.</p>

<p>PFS_ERR_INCONSISTENT</p>

<p>There is an inconsistency in the file system management area.</p>

<p>PFS_ERR_CONTRFAIL</p>

<p>Data transfer with Controller has failed.</p>

<p>PFS_ERR_INVALID</p>

<p>Invalid parameter or the game note does not exist.</p>

<p>PFS_ERR_BAD_DATA</p>

<p>An attempt was made to read from a game note containing no data.</p>

<hr>

<pre>Reference: <a href="nuContPakOpen.htm">nuContPakOpen</a>, <a href="nuContPakFileOpen.htm">nuContPakFileOpen</a>, <a
href="nuContPakFileOpenJis.htm">nuContPakFileOpenJis</a>,<BR>
           <a href="nuContPakFileRead.htm">nuContPakFileRead</a>, <a
href="nuContPakFileWrite.htm">nuContPakFileWrite</a>, <a href="nuContPakFileFread.htm">nuContPakFileFread</a>,<BR>
           <a href="nuContPakFileFwrite.htm">nuContPakFileFwrite</a></pre>

<p><a href="index.htm"><img src="../index.gif" border="0"
width="65" height="17"></a></p>
</body>
</html>
