
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>

<!---------------------------------------------------->
<!--Title, Header, and META Block-->
<!---------------------------------------------------->

<HEAD>
<TITLE>N64 Functions Reference (HTML Manual Pages) Function Page</TITLE>

<META Name="DESCRIPTION" CONTENT="The N64 Functions Reference completely describes all the N64 functions that you can use to develop games for the N64 operating system.">
<META NAME="CLASSIFICATION" CONTENT="functions, reference, N64, man pages, HTML, manpages, pages, development, Nintendo, license, tips, secrets, help, manual, guide, success, money, profit, index, indexing, online, on-line">
<META NAME="KEYWORDS" CONTENT="functions, reference, N64, man pages, HTML, manpages, pages, development, Nintendo, license, tips, secrets, help, manual, guide, success, money, profit, index, indexing, online, on-line">
<META HTTP-EQUIV="KEYWORDS" CONTENT="functions, reference, N64, man pages, HTML, manpages, pages, development, Nintendo, license, tips, secrets, help, manual, guide, success, money, profit, index, indexing, online, on-line">
<META NAME="Author" CONTENT="Nintendo of America Inc.">
<META NAME="Generator" CONTENT="WebEdit Pro version 2.0 for Windows 95">
</HEAD>


<!---------------------------------------------------->
<!--Colors and Background Graphic Block-->
<!---------------------------------------------------->

<BODY BGCOLOR="#FFFFFF" BACKGROUND = "../images/lineback.gif" text=29296B link=#0000A0
vlink=20297c alink=86ffff>
<A NAME="TOP"></A>


<!---------------------------------------------------->
<!--Define Master Table Structure-->
<!---------------------------------------------------->

<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 UNITS="pixels" WIDTH=600>
   <TR VALIGN="top" ALIGN="left">
      <TD COLSPAN=1 WIDTH=25>
         <IMG SRC="../images/space.gif" WIDTH=25 HEIGHT=1 BORDER=0></TD>
      <TD COLSPAN=1 WIDTH=175>
         <IMG SRC="../images/space.gif" WIDTH=175 HEIGHT=1 BORDER=0></FONT></TD>
      <TD COLSPAN=1 WIDTH=10>
         <IMG SRC="../images/space.gif" WIDTH=10 HEIGHT=1 BORDER=0></TD>
      <TD COLSPAN=1 WIDTH=25>
         <IMG SRC="../images/space.gif" WIDTH=25 HEIGHT=1 BORDER=0></TD>
      <TD COLSPAN=1 WIDTH=375>
         <IMG SRC="../images/space.gif" WIDTH=375 HEIGHT=1 BORDER=0></TD>
   </TR>


<!---------------------------------------------------->
<!--Define Left Column Contents-->
<!---------------------------------------------------->

   <TR VALIGN="top" ALIGN="left">
      <TD COLSPAN=2 WIDTH=200 ROWSPAN=1>
      <FONT SIZE=-2 COLOR=#0000A0 FACE="ARIAL">

      <TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH=180>
         <TR VALIGN="bottom" ALIGN="center" >
            <TD>
            <A HREF="../misc/home.html">
               <IMG BORDER=0 SRC="../images/ncube.gif"></A><BR><BR>
            <FONT COLOR=#29296B FACE="ARIAL" SIZE=-1>
            <B>N64<SUP>&reg;</SUP> Functions Menu</B><BR>

            </FONT>
            </TD>
         </TR>
      </TABLE><BR>

<A HREF="../al/al.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> al - Audio Library Functions</A><BR>
<A HREF="../etc/etc.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> etc - String Manipulation Functions</A><BR>
<A HREF="../gdp/gdp.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> gDP - DP GBI Macros</A><BR>
<A HREF="../gdsp/gdsp.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> gdSP - General GBI Macros</A><BR>
<A HREF="../gsp/gsp.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> gSP - SP GBI Macros</A><BR>
<A HREF="../gt/gt.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> gt - Turbo Microcode RDP</A><BR>
<A HREF="../gu/gu.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> gu - Graphics Utilities</A><BR>
<A HREF="../math/math.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> Math - Math Functions</A><BR>
<A HREF="../nusys/nusys.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> nuSys - NuSystem</A><BR>
<A HREF="../os/os.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> os - N64 Operating System</A><BR>
<A HREF="../sp/sp.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> sp - Sprite Library Functions</A><BR>
<A HREF="../uh/uh.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> uh - Host to Target IO</A><BR>
<A HREF="../64dd/64dd.html">
   <IMG BORDER=0 SRC="../images/bookopen.gif"> 64DD - N64 Disk Drive</A><BR><TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH=170><TR VALIGN="bottom" ALIGN="center" ><TD><BR><FONT COLOR="FF0000" FACE="arial" SIZE="-1"><B>Nintendo<SUP>&reg;</SUP> Confidential</B></FONT></TD></TR></TABLE>

<!---------------------------------------------------->
<!--Define Bottom-Left Graphics-->
<!---------------------------------------------------->
<BR>
<BR>
      <TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 ALIGN="left">
         <TR VALIGN="top" ALIGN="center" WIDTH=210>
            <TD>
            <A HREF="../misc/home.html">
               <IMG BORDER=0 SRC="../images/btn_home.gif" WIDTH=54></A>

            <A HREF="../misc/search.html">
               <IMG BORDER=0 SRC="../images/btn_search.gif" WIDTH=54></A>

            <A HREF="../misc/glossary.html">
               <IMG BORDER=0 SRC="../images/btn_glossary.gif" WIDTH=54></A>
            </TD>
         </TR>
      </TABLE>

<!---------------------------------------------------->
<!--Define Spacer Column Contents-->
<!---------------------------------------------------->

      <TD COLSPAN=1 WIDTH=10 HEIGHT=400 ROWSPAN=1>
      <IMG SRC="../images/space.gif" BORDER=0></TD>


<!---------------------------------------------------->
<!--Define Right Column Graphics-->
<!---------------------------------------------------->

      <TD COLSPAN=2 ROWSPAN=1 WIDTH=425 ALIGN="left">
      <FONT COLOR=#000000 FACE="ARIAL" SIZE=-1>

      <TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH=427>
         <TR VALIGN="top" ALIGN="center" >
            <TD>
            <A HREF="../misc/home.html">
            <IMG BORDER=0 HEIGHT=85 SRC="../images/mantitle.gif"></A><BR><BR>
            </TD>
         </TR>
      </TABLE>


      <TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH=427>
         <TR VALIGN="top" ALIGN="left" >
            <TD>
            <A HREF="../64dd/64dd.html">
            <IMG BORDER=0 SRC="../images/mh_64dd.gif"></A>
            </TD>
         </TR>
      </TABLE><BR>

<!---------------------------------------------------->
<!--Define Right Column Text ** INSERT TEXT HERE ** -->
<!---------------------------------------------------->

<FONT COLOR="0000A0"><H2>LeoReadRTC<BR>
LeoSetRTC</H2></FONT>

<B>Syntax</B><BR>
<FONT FACE="COURIER NEW,COURIER" SIZE=3><PRE>
#include &lt;leo.h&gt;

s32 LeoReadRTC (LEOCmd *cmdBlock,
   OSMesgQueue *mq) ;
s32 LeoSetRTC (LEOCmd *cmdBlock,
   LEODiskTIme *RTCdata,
   OSMesgQueue *mq) ;

typedef struct
{
     u8 pad;
     u8 yearhi;
     u8 yearlo;
     u8 month;
     u8 day;
     u8 hour;
     u8 minute;
     u8 second;
} LEODiskTime;</PRE></FONT>

<P>
<B>Note</B>: None of the N64 Disk Drive-related instructions involve ROM DMA (including DMA to ROM in the drive). In fact, the instructions are designed on the assumption that ROM DMA will not be carried out. To learn more about this, please see the "Programming Cautions" section of the <I>N64 Disk Drive Programmer's Guide</I>.

<BR><BR><B>Explanation</B><BR>
The <FONT FACE="COURIER NEW,COURIER">LeoReadRTC</FONT> and <FONT FACE="COURIER NEW,COURIER">LeoSetRTC</FONT> functions work with the N64 Disk Drive’s internal RTC (real-time clock). The <FONT FACE="COURIER NEW,COURIER">LeoReadRT</FONT> function reads the time from the RTC and stores it in the <FONT FACE="COURIER NEW,COURIER">LEODiskTime</FONT> structure).  The <FONT FACE="COURIER NEW,COURIER">LeoSetRTC</FONT> function sets the RTC with the time specified by the <FONT FACE="COURIER NEW,COURIER">RTCData</FONT> argument.<BR>
<BR>

The <FONT FACE="COURIER NEW,COURIER">LEODiskTime</FONT> structure members are all expressed in BCD notation. The "year" member follows the Western calendar.  Note that the first two digits can be neither set nor read. The "hour" member uses the 24-hour clock.<BR>
<BR>

Nothing needs to be set for the command block (<FONT FACE="COURIER NEW,COURIER">cmdBlock</FONT> argument).  When processing of this function is completed, an error code is returned to the area pointed to by the <FONT FACE="COURIER NEW,COURIER">mq</FONT> argument.  An error could arise, so the programmer needs to check this error code. The following are some possible errors that can be returned, their causes, and the actions that should be taken.
<UL>
<LI><FONT FACE="COURIER NEW,COURIER">LEO_ERROR_QUEUE_FULL</FONT> - There is no space left in the command queue.  The queue 
size should be enlarged. See <FONT FACE="COURIER NEW,COURIER"><A HREF="../64dd/LeoCreateLeoManager.html">LeoCreateLeoManager</A></FONT> for details.  

<LI><FONT FACE="COURIER NEW,COURIER">LEO_ERROR_COMMAND_TERMINATED</FONT> - The <FONT FACE="COURIER NEW,COURIER"><A HREF="../64dd/LeoClearQueue.html">LeoClearQueue</A></FONT> or <FONT FACE="COURIER NEW,COURIER"><A HREF="../64dd/LeoReset.html">LeoReset</A></FONT> function was issued, 
so the RTC function did not execute.

<LI><FONT FACE="COURIER NEW,COURIER">LEO_ERROR_DEVICE_COMMUNICATION_FAILURE</FONT> - 
The main reason for this error is a bad physical 
connection, however, there is a possibility that the 
drive itself is not functioning.

<LI><FONT FACE="COURIER NEW,COURIER">LEO_ERROR_COMMAND_PHASE_ERROR</FONT> - 
This error occurs when the N64 Disk Drive status is not good.

<LI><FONT FACE="COURIER NEW,COURIER">LEO_ERROR_POWERONRESET_DEVICERESET_OCCURED</FONT> - 
This error appears when the drive is reset.  The 
possible cause is that the connector was reconnected, which causes subsequent N64 Disk Drive actions to be unstable. Advise the users to reset it.

<LI><FONT FACE="COURIER NEW,COURIER">LEO_ERROR_MEDIUM_MAY_HAVE_CHANGED</FONT> - 
A disk was inserted after being removed once.  It 
is uncertain if the game should continue with the newly inserted disk.  If this error occurs, call <FONT FACE="COURIER NEW,COURIER"><A HREF="../64dd/LeoReadDiskID.html">LeoReadDiskID</A></FONT> to check the identity of the newly inserted disk.

<LI><FONT FACE="COURIER NEW,COURIER">LEO_ERROR_REAL_TIME_CLOCK_FAILURE</FONT> (<I>LeoReadRTC only</I>) - Either the RTC clock has stopped or the battery is low.

<LI><FONT FACE="COURIER NEW,COURIER">LEO_ERROR_ILLEGAL_TIMER_VALUE</FONT> (<I>LeoSetRTC only</I>) - This error is caused by either a mistake in the use of commands or RTC trouble.
</UL>
The returned value is <FONT FACE="COURIER NEW,COURIER">-1</FONT> if Leo Manager hasn't been started, <FONT FACE="COURIER NEW,COURIER">0</FONT> if it has.<BR>
<BR>

For more information about possible errors, their causes, and ways to deal with them,  please see the "Error-Handling" section of the <I>N64 Disk Drive Programmer's Guide</I>.

<BR><BR><B>Example</B><BR>
<FONT FACE="COURIER NEW,COURIER" SIZE=3><PRE>
LEOCmd cmdBlock;
u32 error;
…..
LeoReadRTC (&cmdBlock. &diskQ);
osRecvMesg (&diskQ, (OSMesg *)&error,
   OS_MESG_BLOCK);</PRE></FONT>

<B>See Also</B><BR>
<FONT FACE="COURIER NEW,COURIER"><A HREF="../64dd/Leo.html">Leo</A></FONT><BR>
<FONT FACE="COURIER NEW,COURIER"><A HREF="../64dd/LeoCreateLeoManager.html">LeoCreateLeoManager</A><BR>
<A HREF="../64dd/LeoReadWrite.html">LeoReadWrite</A><BR>
<A HREF="../64dd/LeoSeek.html">LeoSeek</A><BR>
<A HREF="../64dd/LeoSpdlMotor.html">LeoSpdlMotor</A><BR>
<A HREF="../64dd/LeoByteToLBA.html">LeoByteToLBA</A><BR>
<A HREF="../64dd/LeoByteToLBA.html">LeoLBAToByte</A><BR>
<A HREF="../64dd/LeoInquiry.html">LeoInquiry</A><BR>
<A HREF="../64dd/LeoTestUnitReady.html">LeoTestUnitReady</A><BR>
<A HREF="../64dd/LeoRezero.html">LeoRezero</A><BR>
<A HREF="../64dd/LeoClearQueue.html">LeoClearQueue</A><BR>
<A HREF="../64dd/LeoReadDiskID.html">LeoReadDiskID</A><BR>
<A HREF="../64dd/LeoReadCapacity.html">LeoReadCapacity</A></FONT>

<!---------------------------------------------------->
<!--Define Button Bar in a Table for Bottom-Right-->
<!---------------------------------------------------->
<BR>
      <TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 ALIGN="center">

         <TR VALIGN="top" ALIGN="center" WIDTH=312>
            
               
            <TD COLSPAN=1 WIDTH=52>
               <IMG SRC="../images/space.gif" WIDTH=52 HEIGHT=30 BORDER=0></TD>
            <TD COLSPAN=1 WIDTH=52>
               <IMG SRC="../images/space.gif" WIDTH=52 HEIGHT=30 BORDER=0></TD>
            <TD COLSPAN=1 WIDTH=52>
               <IMG SRC="../images/space.gif" WIDTH=52 HEIGHT=30 BORDER=0></TD>
            <TD COLSPAN=1 WIDTH=52>
               <IMG SRC="../images/space.gif" WIDTH=52 HEIGHT=30 BORDER=0></TD>
            <TD COLSPAN=1 WIDTH=52>
               <IMG SRC="../images/space.gif" WIDTH=52 HEIGHT=30 BORDER=0></TD>
            <TD COLSPAN=1 WIDTH=52>
               <IMG SRC="../images/space.gif" WIDTH=52 HEIGHT=30 BORDER=0></TD>
         </TR>
         <TR VALIGN="top" ALIGN="center">
            
               
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../al/al.html">
               <IMG SRC="../images/bb_al.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../gdp/gdp.html">
               <IMG SRC="../images/bb_gdp.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../gdsp/gdsp.html">
               <IMG SRC="../images/bb_gdsp.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../gsp/gsp.html">
               <IMG SRC="../images/bb_gsp.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../gt/gt.html">
               <IMG SRC="../images/bb_gt.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../gu/gu.html">
               <IMG SRC="../images/bb_gu.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
         </TR>
         <TR VALIGN="top" ALIGN="right">
            
               
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../math/math.html">
               <IMG SRC="../images/bb_math.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../nusys/nusys.html">
               <IMG SRC="../images/bb_nusys.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../os/os.html">
               <IMG SRC="../images/bb_os.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../sp/sp.html">
               <IMG SRC="../images/bb_sp.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../uh/uh.html">
               <IMG SRC="../images/bb_uh.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../64dd/64dd.html">
               <IMG SRC="../images/bb_64dd.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
      </TABLE>

      <TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH=425>
         <TR VALIGN="bottom" ALIGN="center" WIDTH=425>
            <TD><BR><BR>
            <IMG BORDER=0 HEIGHT=25 SRC="../images/nin_logo.gif">
            </TD>
         </TR>
         <TR VALIGN="bottom" ALIGN="center" WIDTH=425>
            <TD>
            <FONT FACE="arial" COLOR=FF0000 SIZE="-1"><B>Nintendo<SUP>&reg;</SUP> Confidential</B><BR>
            <BR>
               <B>Warning:</B> all information in this document is confidential and covered by a non-disclosure agreement. You are responsible for keeping this information confidential and protected. Nintendo will vigorously enforce this responsibility.<BR><BR></FONT><FONT FACE="arial" SIZE=-2 COLOR=0000A0><B>Copyright &copy; 1998<BR>
               Nintendo of America Inc. All rights reserved<BR>Nintendo and N64 are registered trademarks of Nintendo<BR>
               Last Updated April, 1999
            </B>
            </FONT>
            </TD>
         </TR>
      </TABLE>
      </FONT>
      </TD>
   </TR>
</TABLE>
</BODY>
</HTML>



