
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>

<!---------------------------------------------------->
<!--Title, Header, and META Block-->
<!---------------------------------------------------->

<HEAD>
<TITLE>N64 Functions Reference (HTML Manual Pages) Function Page</TITLE>

<META Name="DESCRIPTION" CONTENT="The N64 Functions Reference completely describes all the N64 functions that you can use to develop games for the N64 operating system.">
<META NAME="CLASSIFICATION" CONTENT="functions, reference, N64, man pages, HTML, manpages, pages, development, Nintendo, license, tips, secrets, help, manual, guide, success, money, profit, index, indexing, online, on-line">
<META NAME="KEYWORDS" CONTENT="functions, reference, N64, man pages, HTML, manpages, pages, development, Nintendo, license, tips, secrets, help, manual, guide, success, money, profit, index, indexing, online, on-line">
<META HTTP-EQUIV="KEYWORDS" CONTENT="functions, reference, N64, man pages, HTML, manpages, pages, development, Nintendo, license, tips, secrets, help, manual, guide, success, money, profit, index, indexing, online, on-line">
<META NAME="Author" CONTENT="Nintendo of America Inc.">
<META NAME="Generator" CONTENT="WebEdit Pro version 2.0 for Windows 95">
</HEAD>


<!---------------------------------------------------->
<!--Colors and Background Graphic Block-->
<!---------------------------------------------------->

<BODY BGCOLOR="#FFFFFF" BACKGROUND = "../images/lineback.gif" text=29296B link=#0000A0
vlink=20297c alink=86ffff>
<A NAME="TOP"></A>


<!---------------------------------------------------->
<!--Define Master Table Structure-->
<!---------------------------------------------------->

<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 UNITS="pixels" WIDTH=600>
   <TR VALIGN="top" ALIGN="left">
      <TD COLSPAN=1 WIDTH=25>
         <IMG SRC="../images/space.gif" WIDTH=25 HEIGHT=1 BORDER=0></TD>
      <TD COLSPAN=1 WIDTH=175>
         <IMG SRC="../images/space.gif" WIDTH=175 HEIGHT=1 BORDER=0></FONT></TD>
      <TD COLSPAN=1 WIDTH=10>
         <IMG SRC="../images/space.gif" WIDTH=10 HEIGHT=1 BORDER=0></TD>
      <TD COLSPAN=1 WIDTH=25>
         <IMG SRC="../images/space.gif" WIDTH=25 HEIGHT=1 BORDER=0></TD>
      <TD COLSPAN=1 WIDTH=375>
         <IMG SRC="../images/space.gif" WIDTH=375 HEIGHT=1 BORDER=0></TD>
   </TR>


<!---------------------------------------------------->
<!--Define Left Column Contents-->
<!---------------------------------------------------->

   <TR VALIGN="top" ALIGN="left">
      <TD COLSPAN=2 WIDTH=200 ROWSPAN=1>
      <FONT SIZE=-2 COLOR=#0000A0 FACE="ARIAL">

      <TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH=180>
         <TR VALIGN="bottom" ALIGN="center" >
            <TD>
            <A HREF="../misc/home.html">
               <IMG BORDER=0 SRC="../images/ncube.gif"></A><BR><BR>
            <FONT COLOR=#29296B FACE="ARIAL" SIZE=-1>
            <B>N64<SUP>&reg;</SUP> Functions Menu</B><BR>

            </FONT>
            </TD>
         </TR>
      </TABLE><BR>

<A HREF="../al/al.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> al - Audio Library Functions</A><BR>
<A HREF="../gdp/gdp.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> gDP - DP GBI Macros</A><BR>
<A HREF="../gdsp/gdsp.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> gdSP - General GBI Macros</A><BR>
<A HREF="../gsp/gsp.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> gSP - SP GBI Macros</A><BR>
<A HREF="../gt/gt.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> gt - Turbo Microcode RDP</A><BR>
<A HREF="../gu/gu.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> gu - Graphics Utilities</A><BR>
<A HREF="../math/math.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> Math - Math Functions</A><BR>
<A HREF="../nusys/nusys.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> nuSys - NuSystem</A><BR>
<A HREF="../os/os.html">
   <IMG BORDER=0 SRC="../images/bookopen.gif"> os - N64 Operating System</A><BR>
<A HREF="../sp/sp.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> sp - Sprite Library Functions</A><BR>
<A HREF="../uh/uh.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> uh - Host to Target IO</A><BR>
<A HREF="../64dd/64dd.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> 64DD - N64 Disk Drive</A><BR><TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH=170><TR VALIGN="bottom" ALIGN="center" ><TD><BR><FONT COLOR="FF0000" FACE="arial" SIZE="-1"><B>Nintendo<SUP>&reg;</SUP> Confidential</B></FONT></TD></TR></TABLE>

<!---------------------------------------------------->
<!--Define Bottom-Left Graphics-->
<!---------------------------------------------------->

<BR>
<BR>
      <TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 ALIGN="left">
         <TR VALIGN="top" ALIGN="center" WIDTH=210>
            <TD>
            <A HREF="../misc/home.html">
               <IMG BORDER=0 SRC="../images/btn_home.gif" WIDTH=54></A>

            <A HREF="../misc/search.html">
               <IMG BORDER=0 SRC="../images/btn_search.gif" WIDTH=54></A>

            <A HREF="../misc/glossary.html">
               <IMG BORDER=0 SRC="../images/btn_glossary.gif" WIDTH=54></A>
            </TD>
         </TR>
      </TABLE>


<!---------------------------------------------------->
<!--Define Spacer Column Contents-->
<!---------------------------------------------------->

      <TD COLSPAN=1 WIDTH=10 HEIGHT=400 ROWSPAN=1>
      <IMG SRC="../images/space.gif" BORDER=0></TD>


<!---------------------------------------------------->
<!--Define Right Column Graphics-->
<!---------------------------------------------------->

      <TD COLSPAN=2 ROWSPAN=1 WIDTH=425 ALIGN="left">
      <FONT COLOR=#000000 FACE="ARIAL" SIZE=-1>

      <TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH=427>
         <TR VALIGN="top" ALIGN="center" >
            <TD>
            <A HREF="../misc/home.html">
            <IMG BORDER=0 HEIGHT=85 SRC="../images/mantitle.gif"></A><BR><BR>
            </TD>
         </TR>
      </TABLE>


      <TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH=427>
         <TR VALIGN="top" ALIGN="left" >
            <TD>
            <A HREF="../os/os.html">
            <IMG BORDER=0 SRC="../images/mh_os.gif"></A>
            </TD>
         </TR>
      </TABLE><BR>

<!---------------------------------------------------->
<!--Define Right Column Text ** INSERT TEXT HERE ** -->
<!---------------------------------------------------->


<H2><FONT COLOR="0000A0">
osGbpackCheckConnector
</FONT>
</H2>

<B>Syntax</b><br>
<font face="courier" size="3" sixe="3"><pre>#include &lt;ultra64.h&gt;
s32 osGbpakCheckConnector(OSPfs *pfs, u8 *status);</pre></font>

<P>
<B>Explanation</b>
<br>
The osGbpakCheckConnector() function confirms that the N64 Game Boy Pak and the Game Boy game pak are firmly connected together. 
It checks whether each Game Boy cartridge address line is properly connected. 
</p>

<p>If you call <a
href="osGbpakReadWrite.html">osGbpakReadWrite</a>() function without first calling this function, data could be read or written to the wrong address because of a poor connection. 
Therefore, please make sure to call the osGbpakCheckConnector() function before calling the <a href="osGbpakReadWrite.html">osGbpakReadWrite</a>() function. 
</p>

<p>Before this function is called, the functions <a
href="osGbpakInit.html">osGbpakInit</a>() and <a
href="osGbpakReadId.html">osGbpakReadId</a>() must always be called.  osGbpakCheckConnector internally performs a status check with <a href="osGbpakGetStatus.html">osGbpakGetStatus</a>() and turns the power on with <a
href="osGbpakPower.html">osGbpakPower</a>().  Thus, these functions do not need to be called. 
</p>

<p>osGbpakCheckConnector() supports only the following Game Boy game paks.  Note that its operation is not guaranteed with other game paks. 
</p>

<ul>
    <li>No memory controller </li>
    <li>MBC1 </li>
    <li>MBC2 </li>
    <li>MBC3 </li>
</ul>

<p>The OSpfs structure pfs is used for N64 Game Boy Pak control.  Before being used, it must initialized by the function <a
href="osGbpakInit.html">osGbpakInit</a>().  The status of the 64GB Pak is returned as *status.  For information on status, see the <a href="osGbpakGetStatus.html">osGbpakGetStatus()</a> function. 
<br>
</p>

<p>The internal operations performed by the osGbpakCheckConnector() function are as follows. 
<br>
</p>

<ul>
    <li>Checks the ROM area addresses of the Game Boy cartridge and performs the  following processing for 0x0000, 0x0080, 0x0100, 0x0200, 0x0400, 0x0800, 0x1000, 0x2000, and 0x4000. 
        <ol>
<p>
            <li>Compares data starting at the above addresses with neighboring data in 32-byte units. </li>
<p>
            <li>If the data are identical, compares the next 32 bytes, and if this is also the same, compares the next 32 bytes.  Up to 4 comparisons (i.e.,, 128 bytes) are performed.  If all data are identical, the address line is considered insecurely connected and an error is returned. </li><br>
                If different data are detected even once, it is determined that the data are being read properly and the function advances. 
            </li>
<p>
            <li>Data at cache of the above addresses are compared with the data starting at 0x0000 in 32-byte units. </li>
<p>
            <li>As in 2., up to 4 comparisons (128 bytes) are made. 
                If all the data are identical, an error is returned. <br>
 If different data are detected even once, it is determined that the data are being read properly and the function advances. 
            </li>
        </ol>
    </li>
<p>
    <li>If a RAM area exists, the function checks the address of the Game Boy cartridge RAM area and performs the following processing for 0x2000 and 
        0xa000. 
        <ol>
<p>
            <li>Compares the data starting at the above addresses in 32-byte units. </li>
<p>
            <li> If the data are identical, compares the next 32 bytes, and if this is also the same, compares the next 32 bytes.  Up to 4 comparisons (ie, 128 bytes) are performed.  If all the data are the same, the address line is evaluated to be insecurely connected and an error is returned. <br>
                If different data are detected even once, it is determined that the data are being read properly and the function advances. 
            </li>
	</ol>
    </li>
</ul>

<p>Because osGbpakCheckConnector() performs the processing above, it does not support all Game Boy cartridges.  It may not operate properly in some Game Boy cartridges. 
Examples are as follows. </p>

<ul>
    <li>The cartridge uses a special memory controller.<br>
        (osGbpakCheckConnector() does not swap banks internally)
    </li>
<p>
    <li>The 128 bytes beginning from 0x0000 and the 128 bytes beginning from 0x0080 by chance contain the same data. 
    </li>
<p>
    <li>The 128 bytes beginning from ROM address 0x2000 contain the data at the start of SRAM. 
<p>
    <li>During play, the data at the start of SRAM become the same as those in the 128 bytes starting from address 0x2000. </li>
</ul>

<p>When using osGbpakCheckConnector(), be careful to note whether the above conditions occur.  If they are unavoidable, osGbpakCheckConnector() should not be used, and the connector-check function supported by the application should be used instead.
</p>

<p>Return value is an error code. If the function terminates normally, a value of 0 is returned.  If an error occurs, one of the following error codes is returned:
<br>
</p>

<p><b>PFS_ERR_NOPACK</b>
<br>
 Nothing is inserted in the specified controller.

<p><b>PFS_ERR_DEVICE</b>
    <br>A device other than the N64 Game Boy Pak is inserted in the controller.
  


<p><b>PFS_ERR_CONTRFAIL</b> 

    <br>The controller may not be connected correctly, or there may be some problem with the N64 Game Boy Pak or the controller connector. <p>
    If this error is issued, display a message such as the following to the screen:  The Game Boy cartridge connection is abnormal.  Please turn off power to the unit and refer to the 64GB User's Manual. 
    


<p><b>PFS_ERR_NO_GBCART</b>
    <br>No Game Boy game pak is inserted in the N64 Game Boy Pak.  
  


<p>
<b>See Also</b>
<br><a href="osGbpakInit.html">osGbpakInit (3P)</a><br> <a
href="osGbpakGetStatus.html">osGbpakGetStatus (3P)</a><br> <a
href="osGbpakPower.html">osGbpakPower (3P)</a>
<br><a
href="osGbpakReadWrite.html">osGbpakReadWrite (3P)</a><br> <a
href="osGbpakReadId.html">osGbpakReadId (3P)</a></p>

<!---------------------------------------------------->
<!--Define Button Bar in a Table for Bottom-Right-->
<!---------------------------------------------------->
<BR>
      <TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 ALIGN="center">

         <TR VALIGN="top" ALIGN="center" WIDTH=312>
            
               
            <TD COLSPAN=1 WIDTH=52>
               <IMG SRC="../images/space.gif" WIDTH=52 HEIGHT=30 BORDER=0></TD>
            <TD COLSPAN=1 WIDTH=52>
               <IMG SRC="../images/space.gif" WIDTH=52 HEIGHT=30 BORDER=0></TD>
            <TD COLSPAN=1 WIDTH=52>
               <IMG SRC="../images/space.gif" WIDTH=52 HEIGHT=30 BORDER=0></TD>
            <TD COLSPAN=1 WIDTH=52>
               <IMG SRC="../images/space.gif" WIDTH=52 HEIGHT=30 BORDER=0></TD>
            <TD COLSPAN=1 WIDTH=52>
               <IMG SRC="../images/space.gif" WIDTH=52 HEIGHT=30 BORDER=0></TD>
            <TD COLSPAN=1 WIDTH=52>
               <IMG SRC="../images/space.gif" WIDTH=52 HEIGHT=30 BORDER=0></TD>
         </TR>
         <TR VALIGN="top" ALIGN="center">
            
               
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../al/al.html">
               <IMG SRC="../images/bb_al.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../gdp/gdp.html">
               <IMG SRC="../images/bb_gdp.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../gdsp/gdsp.html">
               <IMG SRC="../images/bb_gdsp.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../gsp/gsp.html">
               <IMG SRC="../images/bb_gsp.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../gt/gt.html">
               <IMG SRC="../images/bb_gt.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../gu/gu.html">
               <IMG SRC="../images/bb_gu.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
         </TR>
         <TR VALIGN="top" ALIGN="right">
            
               
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../math/math.html">
               <IMG SRC="../images/bb_math.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../nusys/nusys.html">
               <IMG SRC="../images/bb_nusys.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../os/os.html">
               <IMG SRC="../images/bb_os.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../sp/sp.html">
               <IMG SRC="../images/bb_sp.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../uh/uh.html">
               <IMG SRC="../images/bb_uh.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../64dd/64dd.html">
               <IMG SRC="../images/bb_64dd.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
      </TABLE>

      <TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH=425>
         <TR VALIGN="bottom" ALIGN="center" WIDTH=425>
            <TD><BR><BR>
            <IMG BORDER=0 HEIGHT=25 SRC="../images/nin_logo.gif">
            </TD>
         </TR>
         <TR VALIGN="bottom" ALIGN="center" WIDTH=425>
            <TD>
            <FONT FACE="arial" COLOR=FF0000 SIZE="-1"><B>Nintendo<SUP>&reg;</SUP> Confidential</B><BR><BR><B>Warning:</B> all information in this document is confidential and covered by a non-disclosure agreement. You are responsible for keeping this information confidential and protected. Nintendo will vigorously enforce this responsibility.<BR><BR></FONT><FONT FACE="arial" SIZE=-2 COLOR=0000A0>
            <B><BR>
               Copyright &copy; 1998<BR>
               Nintendo of America Inc. All rights reserved<BR>Nintendo and N64 are registered trademarks of Nintendo<BR>
               Last updated March 1998
            </B>
            </FONT>
            </TD>
         </TR>
      </TABLE>
      </FONT>
      </TD>
   </TR>
</TABLE>
</BODY>
</HTML>




