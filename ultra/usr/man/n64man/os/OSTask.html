<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>

<!---------------------------------------------------->
<!--Title, Header, and META Block-->
<!---------------------------------------------------->

<HEAD>
<TITLE>N64 Functions Reference (HTML Manual Pages) Function Page</TITLE>

<META Name="DESCRIPTION" CONTENT="The N64 Functions Reference completely describes all the N64 functions that you can use to develop games for the N64 operating system.">
<META NAME="CLASSIFICATION" CONTENT="functions, reference, N64, man pages, HTML, manpages, pages, development, Nintendo, license, tips, secrets, help, manual, guide, success, money, profit, index, indexing, online, on-line">
<META NAME="KEYWORDS" CONTENT="functions, reference, N64, man pages, HTML, manpages, pages, development, Nintendo, license, tips, secrets, help, manual, guide, success, money, profit, index, indexing, online, on-line">
<META HTTP-EQUIV="KEYWORDS" CONTENT="functions, reference, N64, man pages, HTML, manpages, pages, development, Nintendo, license, tips, secrets, help, manual, guide, success, money, profit, index, indexing, online, on-line">
<META NAME="Author" CONTENT="Nintendo of America Inc.">
<META NAME="Generator" CONTENT="WebEdit Pro version 2.0 for Windows 95">
</HEAD>


<!---------------------------------------------------->
<!--Colors and Background Graphic Block-->
<!---------------------------------------------------->

<BODY BGCOLOR="#FFFFFF" BACKGROUND = "../images/lineback.gif" text=29296B link=#0000A0
vlink=20297c alink=86ffff>
<A NAME="TOP"></A>


<!---------------------------------------------------->
<!--Define Master Table Structure-->
<!---------------------------------------------------->

<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 UNITS="pixels" WIDTH=600>
   <TR VALIGN="top" ALIGN="left">
      <TD COLSPAN=1 WIDTH=25>
         <IMG SRC="../images/space.gif" WIDTH=25 HEIGHT=1 BORDER=0></TD>
      <TD COLSPAN=1 WIDTH=175>
         <IMG SRC="../images/space.gif" WIDTH=175 HEIGHT=1 BORDER=0></FONT></TD>
      <TD COLSPAN=1 WIDTH=10>
         <IMG SRC="../images/space.gif" WIDTH=10 HEIGHT=1 BORDER=0></TD>
      <TD COLSPAN=1 WIDTH=25>
         <IMG SRC="../images/space.gif" WIDTH=25 HEIGHT=1 BORDER=0></TD>
      <TD COLSPAN=1 WIDTH=375>
         <IMG SRC="../images/space.gif" WIDTH=375 HEIGHT=1 BORDER=0></TD>
   </TR>


<!---------------------------------------------------->
<!--Define Left Column Contents-->
<!---------------------------------------------------->

   <TR VALIGN="top" ALIGN="left">
      <TD COLSPAN=2 WIDTH=200 ROWSPAN=1>
      <FONT SIZE=-2 COLOR=#0000A0 FACE="ARIAL">

      <TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH=180>
         <TR VALIGN="bottom" ALIGN="center" >
            <TD>
            <A HREF="../misc/home.html">
               <IMG BORDER=0 SRC="../images/ncube.gif"></A><BR><BR>
            <FONT COLOR=#29296B FACE="ARIAL" SIZE=-1>
            <FONT FACE="COURIER NEW,COURIER">N64 Functions Menu</FONT> - <BR>

            </FONT>
            </TD>
         </TR>
      </TABLE><BR>

<A HREF="../al/al.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> al - Audio Library Functions</A><BR>
<A HREF="../gdp/gdp.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> gDP - DP GBI Macros</A><BR>
<A HREF="../gdsp/gdsp.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> gdSP - General GBI Macros</A><BR>
<A HREF="../gsp/gsp.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> gSP - SP GBI Macros</A><BR>
<A HREF="../gt/gt.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> gt - Turbo Microcode RDP</A><BR>
<A HREF="../gu/gu.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> gu - Graphics Utilities</A><BR>
<A HREF="../math/math.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> Math - Math Functions</A><BR>
<A HREF="../nusys/nusys.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> nuSys - NuSystem</A><BR>
<A HREF="../os/os.html">
   <IMG BORDER=0 SRC="../images/bookopen.gif"> os - N64 Operating System</A><BR>
<A HREF="../sp/sp.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> sp - Sprite Library Functions</A><BR>
<A HREF="../uh/uh.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> uh - Host to Target IO</A><BR>
<A HREF="../64dd/64dd.html">
   <IMG BORDER=0 SRC="../images/bookclosed.gif"> 64DD - N64 Disk Drive</A><BR><TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH=170><TR VALIGN="bottom" ALIGN="center" ><TD><BR><FONT COLOR="FF0000" FACE="arial" SIZE="-1"><B>Nintendo<SUP>&reg;</SUP> Confidential</B></FONT></TD></TR></TABLE>

<!---------------------------------------------------->
<!--Define Bottom-Left Graphics-->
<!---------------------------------------------------->

<BR>
<BR>
      <TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 ALIGN="left">
         <TR VALIGN="top" ALIGN="center" WIDTH=210>
            <TD>
            <A HREF="../misc/home.html">
               <IMG BORDER=0 SRC="../images/btn_home.gif" WIDTH=54></A>

            <A HREF="../misc/search.html">
               <IMG BORDER=0 SRC="../images/btn_search.gif" WIDTH=54></A>

            <A HREF="../misc/glossary.html">
               <IMG BORDER=0 SRC="../images/btn_glossary.gif" WIDTH=54></A>
            </TD>
         </TR>
      </TABLE>

<!---------------------------------------------------->
<!--Define Spacer Column Contents-->
<!---------------------------------------------------->

      <TD COLSPAN=1 WIDTH=10 HEIGHT=400 ROWSPAN=1>
      <IMG SRC="../images/space.gif" BORDER=0></TD>


<!---------------------------------------------------->
<!--Define Right Column Graphics-->
<!---------------------------------------------------->

      <TD COLSPAN=2 ROWSPAN=1 WIDTH=425 ALIGN="left">
      <FONT COLOR=#000000 FACE="ARIAL" SIZE=-1>

      <TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH=427>
         <TR VALIGN="top" ALIGN="center" >
            <TD>
            <A HREF="../misc/home.html">
            <IMG BORDER=0 HEIGHT=85 SRC="../images/mantitle.gif"></A><BR><BR>
            </TD>
         </TR>
      </TABLE>


      <TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH=427>
         <TR VALIGN="top" ALIGN="left" >
            <TD>
            <A HREF="../os/os.html">
            <IMG BORDER=0 SRC="../images/mh_os.gif"></A>
            </TD>
         </TR>
      </TABLE><BR>

<!---------------------------------------------------->
<!--Define Right Column Text ** INSERT TEXT HERE ** -->
<!---------------------------------------------------->


<H2><FONT COLOR="0000A0">
OSTask Structure
</FONT>
</H2>

The <FONT FACE="COURIER NEW,COURIER">osSpTaskLoad</FONT>, <FONT FACE="COURIER NEW,COURIER">osSpTaskStartGo</FONT>, <FONT FACE="COURIER NEW,COURIER">osSpTaskStart</FONT>, <FONT FACE="COURIER NEW,COURIER">osSpTaskYield</FONT>, and <FONT FACE="COURIER NEW,COURIER">osSpTaskYielded</FONT> functions manage the signal processor (SP) "tasks" that can be invoked from the CPU host.<BR>
<BR>

Tasks are embodied by an <FONT FACE="COURIER NEW,COURIER">OSTask</FONT> structure. Following are the members of the <FONT FACE="COURIER NEW,COURIER">OSTask</FONT> Structure:

<UL><LI><FONT FACE="COURIER NEW,COURIER">t.type</FONT> - Task type. It should be initialized to <FONT FACE="COURIER NEW,COURIER">M_AUDTASK</FONT> for audio tasks or <FONT FACE="COURIER NEW,COURIER">M_GFXTASK</FONT> for graphics tasks.
<LI><FONT FACE="COURIER NEW,COURIER">t.flags</FONT> - Various task state bits. <FONT FACE="COURIER NEW,COURIER">OS_TASK_DP_WAIT</FONT> is the most important flag. When this flag is set, the boot microcode waits for the RDP to drain its current command stream before continuing. This is necessary if you are going to use the XBUS or switch the RDP input stream. However, do not set this flag for audio tasks or "_fifo" versions of graphics tasks.
<LI><FONT FACE="COURIER NEW,COURIER">t.ucode_boot</FONT> - Pointer to boot microcode. It should be initialized to rspbootTextStart.
<LI><FONT FACE="COURIER NEW,COURIER">t_ucode_boot_size</FONT> - Pointer to boot microcode size in bytes. It should be initialized to ((u32)rspbootTextEnd - (u32)rspbootTextStart).
<LI><FONT FACE="COURIER NEW,COURIER">t.ucode</FONT> - Pointer to task microcode. It should be set to <FONT FACE="COURIER NEW,COURIER">aspMainTextStart</FONT> for audio tasks or one of the following for graphics tasks:<BR>
<BR>

<UL>
<LI><FONT FACE="COURIER NEW,COURIER">gspFast3DTextStart</FONT>
<LI><FONT FACE="COURIER NEW,COURIER">gspFast3D_dramTextStart</FONT>
<LI><FONT FACE="COURIER NEW,COURIER">gspFast3D_fifoTextStart</FONT>
<LI><FONT FACE="COURIER NEW,COURIER">gspLine3DTextStart</FONT>
<LI><FONT FACE="COURIER NEW,COURIER">gspLine3D_dramTextStart</FONT>
<LI><FONT FACE="COURIER NEW,COURIER">gspLine3D_fifoTextStart</FONT>
</UL><BR>

<LI><FONT FACE="COURIER NEW,COURIER">t.ucode_size</FONT> - Size of microcode. It should be initialized to <FONT FACE="COURIER NEW,COURIER">SP_UCODE_SIZE</FONT>.
<LI><FONT FACE="COURIER NEW,COURIER">t.ucode_data</FONT> - Pointer to task microcode. It should be set to <FONT FACE="COURIER NEW,COURIER">aspMainDataStart</FONT> for audio tasks or one of the following for graphics tasks:<BR>
<BR>

<UL>
<LI><FONT FACE="COURIER NEW,COURIER">gspFast3DDataStart</FONT>
<LI><FONT FACE="COURIER NEW,COURIER">gspFast3D_dramDataStart</FONT>
<LI><FONT FACE="COURIER NEW,COURIER">gspFast3D_fifoDataStart</FONT>
<LI><FONT FACE="COURIER NEW,COURIER">gspLine3DDataStart</FONT>
<LI><FONT FACE="COURIER NEW,COURIER">gspLine3D_dramDataStart</FONT>
<LI><FONT FACE="COURIER NEW,COURIER">gspLine3D_fifoDataStart</FONT>
</UL><BR>

<LI><FONT FACE="COURIER NEW,COURIER">t.ucode_data_size</FONT> - Size of microcode data. It should be initialized to <FONT FACE="COURIER NEW,COURIER">SP_UCODE_DATA_SIZE</FONT>.
<LI><FONT FACE="COURIER NEW,COURIER">t.dram_stack</FONT> - Pointer to DRAM matrix stack. It should be initialized to 0 for audio tasks and to a memory region of size <FONT FACE="COURIER NEW,COURIER">SP_DRAM_STACK_SIZE8</FONT> bytes for graphics tasks.
<LI><FONT FACE="COURIER NEW,COURIER">t.dram_stack_size</FONT> - DRAM matrix stack size in bytes. It should be initialized to 0 for audio tasks or <FONT FACE="COURIER NEW,COURIER">SP_DRAM_STACK_SIZE8</FONT> for graphics tasks.
<LI><FONT FACE="COURIER NEW,COURIER">t.output_buff</FONT> - Pointer to output buffer. The "_dram" and "_fifo" versions of the graphics microcode will route the SP output to DRAM rather than to the DP. When this microcode is used, this should point
 to a memory region to which the SP will write the DP command list. For "_dram" versions of the microcode the buffer must be as long or longer than the DP data stream that will be generated by the RSP. The "_fifo" versions of the microcode
 require a buffer of at least 0x100 bytes, although larger buffers may provide greater performance.
<LI><FONT FACE="COURIER NEW,COURIER">t.output_buff_size</FONT> - For the "_dram" version of the microcode this is a *POINTER* to a N64 where the output buffer length will go.  The SP will write the size of the DP command list in bytes to this location.  For the "_fifo" version of the microcode this is a *POINTER* the byte following the last byte in the output buffer. The other microcodes (other than "_dram" and "_fifo") ignore the t.output_buff_size field.
<LI><FONT FACE="COURIER NEW,COURIER">t.data_ptr</FONT> - SP command list pointer.  For graphics tasks, this is the application constructed display list.  For audio tasks, this command list is created by <A HREF="../al/alAudioFrame.html">alAudioFrame</A>.
<LI><FONT FACE="COURIER NEW,COURIER">t.data_size</FONT> - Length of SP command list in bytes.
<LI><FONT FACE="COURIER NEW,COURIER">t.yield_data_ptr</FONT> - Pointer to buffer to store saved state of yielding task.  If the application is going to support preemption of graphics tasks, the graphics tasks should have this structure member set.  This should point to a memory region of size <FONT FACE="COURIER NEW,COURIER">OS_YIELD_DATA_SIZE</FONT> bytes.  If task preemption is not supported
 by the application, this field should be initialized to 0. Audio tasks should always set this field to 0.
<LI><FONT FACE="COURIER NEW,COURIER">t.yield_data_size</FONT> - Size of yield buffer in bytes.  When task yielding is to be supported by the application, this should be initialized to <FONT FACE="COURIER NEW,COURIER">OS_YIELD_DATA_SIZE</FONT> for the graphics task. Audio tasks should set this field to 0.</UL>

The <FONT FACE="COURIER NEW,COURIER">dram_stack</FONT>, <FONT FACE="COURIER NEW,COURIER">output_buff</FONT>, <FONT FACE="COURIER NEW,COURIER">output_buff_size</FONT>, and <FONT FACE="COURIER NEW,COURIER">yield_data_ptr</FONT>
pointers should point to memory regions that reside entirely in an
integral number of data cache lines. That is, they should be aligned and
padded to 16 byte boundaries. If the affected memory region is not cache
aligned, there exists the possibility that a CPU program variable may
also share the data cache line.  During normal operation of the CPU
cache, the data cache line may be written back and overwrite the data
previously written by SP. The macros described in <FONT FACE="COURIER NEW,COURIER"><A HREF="../os/OS_DCACHE_ROUNDUP_ADDR.html">OS_DCACHE_ROUNDUP_ADDR</A></FONT>
can be used, but the easiest way to align these memory regions is to 
place each of them in its own relocatable <B>.o</B> object file.

<BR><BR><B>See Also</B><BR>

<FONT FACE="COURIER NEW,COURIER"><A HREF="../os/osSpTaskLoad.html">osSpTaskLoad</A></FONT><BR>
<FONT FACE="COURIER NEW,COURIER"><A HREF="../os/osSpTaskStartGo.html">osSpTaskStartGo</A></FONT><BR>
<FONT FACE="COURIER NEW,COURIER"><A HREF="../os/osSpTaskStart.html">osSpTaskStart</A></FONT><BR>
<FONT FACE="COURIER NEW,COURIER"><A HREF="../os/osSpTaskYield.html">osSpTaskYield</A></FONT><BR>
<FONT FACE="COURIER NEW,COURIER"><A HREF="../os/osSpTaskYielded.html">osSpTaskYielded</A></FONT><BR>

<!---------------------------------------------------->
<!--Define Button Bar in a Table for Bottom-Right-->
<!---------------------------------------------------->
<BR>
      <TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 ALIGN="center">

         <TR VALIGN="top" ALIGN="center" WIDTH=312>
            
               
            <TD COLSPAN=1 WIDTH=52>
               <IMG SRC="../images/space.gif" WIDTH=52 HEIGHT=30 BORDER=0></TD>
            <TD COLSPAN=1 WIDTH=52>
               <IMG SRC="../images/space.gif" WIDTH=52 HEIGHT=30 BORDER=0></TD>
            <TD COLSPAN=1 WIDTH=52>
               <IMG SRC="../images/space.gif" WIDTH=52 HEIGHT=30 BORDER=0></TD>
            <TD COLSPAN=1 WIDTH=52>
               <IMG SRC="../images/space.gif" WIDTH=52 HEIGHT=30 BORDER=0></TD>
            <TD COLSPAN=1 WIDTH=52>
               <IMG SRC="../images/space.gif" WIDTH=52 HEIGHT=30 BORDER=0></TD>
            <TD COLSPAN=1 WIDTH=52>
               <IMG SRC="../images/space.gif" WIDTH=52 HEIGHT=30 BORDER=0></TD>
         </TR>
         <TR VALIGN="top" ALIGN="center">
            
               
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../al/al.html">
               <IMG SRC="../images/bb_al.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../gdp/gdp.html">
               <IMG SRC="../images/bb_gdp.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../gdsp/gdsp.html">
               <IMG SRC="../images/bb_gdsp.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../gsp/gsp.html">
               <IMG SRC="../images/bb_gsp.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../gt/gt.html">
               <IMG SRC="../images/bb_gt.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../gu/gu.html">
               <IMG SRC="../images/bb_gu.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
         </TR>
         <TR VALIGN="top" ALIGN="right">
            
               
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../math/math.html">
               <IMG SRC="../images/bb_math.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../nusys/nusys.html">
               <IMG SRC="../images/bb_nusys.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../os/os.html">
               <IMG SRC="../images/bb_os.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../sp/sp.html">
               <IMG SRC="../images/bb_sp.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../uh/uh.html">
               <IMG SRC="../images/bb_uh.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
            <TD COLSPAN=1 WIDTH=52>
               <A HREF="../64dd/64dd.html">
               <IMG SRC="../images/bb_64dd.gif" WIDTH=52 HEIGHT=21 BORDER=0></A></TD>
      </TABLE>

      <TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH=425>
         <TR VALIGN="bottom" ALIGN="center" WIDTH=425>
            <TD><BR><BR>
            <IMG BORDER=0 HEIGHT=25 SRC="../images/nin_logo.gif">
            </TD>
         </TR>
         <TR VALIGN="bottom" ALIGN="center" WIDTH=425>
            <TD>
            <FONT FACE="arial" COLOR=FF0000 SIZE="-1"><B>Nintendo<SUP>&reg;</SUP> Confidential</B><BR><BR><B>Warning:</B> all information in this document is confidential and covered by a non-disclosure agreement. You are responsible for keeping this information confidential and protected. Nintendo will vigorously enforce this responsibility.<BR><BR></FONT><FONT FACE="arial" SIZE=-2 COLOR=0000A0>
            <B><BR>
               Copyright &copy; 1998<BR>
               Nintendo of America Inc. All rights reserved<BR>Nintendo and N64 are registered trademarks of Nintendo<BR>
               Last updated March 1998
            </B>
            </FONT>
            </TD>
         </TR>
      </TABLE>
      </FONT>
      </TD>
   </TR>
</TABLE>
</BODY>
</HTML>


