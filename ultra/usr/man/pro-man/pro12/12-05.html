<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<BASE TARGET="main">
<head>
<title>N64 Programming Manual Chapter 12</title>
</head>
<body bgcolor="#FFFFFF">

<table border=0><tr><td><a target="_top" href="../pro12/index12.4.html"><img border=0 src="../images/previous.gif"></a></td>
<td>&nbsp;</td>
<td><a target="_top" href="../pro12/index12.6.html"><img border=0  src="../images/next.gif"></a></td></tr></table>
<P>

<b><font face="arial" color="#29296b">TF: Texture Filter</font></b>

<P>
<font face="arial" size="-1" color="#000000">
Texture filter takes the four texels generated by TX and produces a simple bilinear-filtered texel. The TF can also work together with the color combiner (please see <a target="_top" href="../pro12/index12.6.html"> Section 12.6, “CC: Color Combiner”</a>) to perform YUV-to-RGB color space conversion.

<P>
<b>Figure 12.5.1</B> &nbsp;Texture Filter State and Input/Output
<p>
<table border=0 align="center">
<tr><td>
<img border=0 align="center" src="../pro12/gif/f12-08.gif"></tr></td></table>

<P>
<a name="01"></a>
<b>Filter Types</b>
<br>
TF performs three types of filter operations: point sampling, box filter, and bilinear interpolation. Point sampling just selects the nearest texel to the screen pixel. In the special case where the screen pixel is always the center of four texels, the box filter can be used. In a typical 3D, arbitrarily rotated polygon, the bilinear filter is the best choice available.

<P>
<b>Note:</b> For hardware cost reduction, the RDP does not implement a true bilinear filter. Instead, the three nearest texels are linearly interpolated to produce the result pixels. This has a natural triangulation bias. This artifact is not noticeable in normal texture images. However, in regular pattern images, it can be noticed. For example, notches can be seen in the crosshair on a image of grids. This can be eliminated by prefiltering the image with a wider filter.

<P>
<b>Table 1</b> &nbsp;gsSetTextureFilter(type)
<br>
<table border=1 cellspacing="3" cellpadding="3" width="60%">
<tr>
<td width=40%><font face="arial" size="-1"><b>Parameter</td>
<td width=60%><font face="arial" size="-1"><b>Value</b></td>
</tr>
<tr>
<td width=40% valign="top"><font face="arial" size="-1">type</td>
<td width=60%><font face="arial" size="-1">G_TF_POINT<br>
G_TF_AVERAGE<br>
G_TF_BILERP</td></tr></table>

<P>
<a name="02"></a>
<b>Color Space Conversion</b>
<br>
Color space conversion can be used to convert YUV textures into RGB. This could be a useful compression technique, or it could be used for MPEG video, or for special effects.

<P>
<b>Table 2</b> &nbsp;gsSetTextureConvert(mode)
<br>
<table border=1 cellspacing="3" cellpadding="3" width="60%">
<tr>
<td width=40%><font face="arial" size="-1"><b>Parameter</td>
<td width=60%><font face="arial" size="-1"><b>Value</b></td>
</tr>
<tr>
<td width=40% valign="top"><font face="arial" size="-1">mode</td>
<td width=60%><font face="arial" size="-1">G_TF_CONV<br>
G_TF_FILTCONV<br>
G_TF_FILT
</td></tr></table>

<P>
<b>Table 3</b> &nbsp;gsSetConvert(k0,k1,k2,k3,k4,k5)
<br>
<table border=1 cellspacing="3" cellpadding="3" width="60%">
<tr>
<td width=40%><font face="arial" size="-1"><b>Parameter</td>
<td width=60%><font face="arial" size="-1"><b>Value</b></td>
</tr>
<tr>
<td width=40% valign="top"><font face="arial" size="-1">k0, k1, k2</td>
<td width=60%><font face="arial" size="-1">G_CV_K0, G_CV_K1, G_CV_K2</td></tr>
<tr>
<td width=40% valign="top"><font face="arial" size="-1">k3, k4, k5</td>
<td width=60%><font face="arial" size="-1">G_CV_K3, G_CV_K4, G_CV_K5</td></tr>
</table>

<P>

<b>Note:</b> The default state of the RDP is G_TF_CONV (perform YUV2RGB), which is probably not what you want (if you are using RGB textures). A common bug is to forget to set this (usually it should be G_TF_FILT).
<P>

<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 ALIGN="center">
         <TR><td align="center"><font face="Arial" size="-2" color="#29296B">
Copyright &copy; 1999<br>
Nintendo of America Inc. All Rights Reserved<BR>
Nintendo and N64 are registered trademarks of Nintendo<br>
Last Updated January, 1999</FONT>
</TD></TR></TABLE>
</body>
</html>