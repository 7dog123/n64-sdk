<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<BASE TARGET="main">
<head>
<title>N64 Programming Manual Chapter 9</title>
</head>
<body bgcolor="#FFFFFF">

<table border=0><tr><td><a target="_top" href="../pro09/index9.2.html"><img border=0 src="../images/previous.gif"></a></td>
<td>&nbsp;</td>
<td><a target="_top" href="../pro09/index9.4.html"><img border=0  src="../images/next.gif"></a></td></tr></table>
<P>

<b><font face="arial" color="#29296b">CPU Addressing</font></b>

<P>
<font face="arial" size="-1" color="#000000">
CPU virtual address translation takes place in either of two ways: via direct mapping, or through the translation lookaside buffer (TLB).  When running in kernel mode (as applications do on the Nintendo 64 platform) the address ranges have the behavior described in Table 9-1.

<P>
<b>Table 1</b> &nbsp;32 Bit Kernel Mode Addressing
<br>
<table border=1 cellspacing="3" cellpadding="3" width="80%">
<tr>
<td width=25%><font face="arial" size="-1"><b>Beginning</td>
<td width=20%><font face="arial" size="-1"><b>Ending</td>
<td width=20%><font face="arial"
size="-1"><b>Name</b></td>
<td width=35%><font face="arial" size="-1"><b>Behavior</td>
</tr>
<tr>
<td width=25%><font face="arial" size="-1">0x00000000</td>
<td width=20%><font face="arial" size="-1">0x7fffffff</td>
<td width=20%><font face="arial"
size="-1">KUSEG</td>
<td width=35%><font face="arial" size="-1">TLB mapped</td>
</tr>
<tr>
<td width=25%><font face="arial" size="-1">0x80000000</td>
<td width=20%><font face="arial" size="-1">0x9fffffff</td>
<td width=20%><font face="arial"
size="-1">KSEG0</td>
<td width=35%><font face="arial" size="-1">Direct mapped, cached</td>
</tr>
<tr>
<td width=25%><font face="arial" size="-1">0xa0000000</td>
<td width=20%><font face="arial" size="-1">0xbfffffff</td>
<td width=20%><font face="arial"
size="-1">KSEG1</td>
<td width=35%><font face="arial" size="-1">Direct mapped, uncached</td>
</tr>
<tr>
<td width=25%><font face="arial" size="-1">0xc0000000</td>
<td width=20%><font face="arial" size="-1">0xdfffffff</td>
<td width=20%><font face="arial"
size="-1">KSSEG</td>
<td width=35%><font face="arial" size="-1">TLB mapped</td>
</tr>
<tr>
<td width=25%><font face="arial" size="-1">0xe0000000</td>
<td width=20%><font face="arial" size="-1">0xffffffff</td>
<td width=20%><font face="arial"
size="-1">KSEG3</td>
<td width=35%><font face="arial" size="-1">TLB mapped</td>
</tr>
</table>
<P>
The KSEG0 address space is expected to be the most popular, if not only, address space used.  In this address space, the physical memory locations corresponding to be KSEG0 address can be determined by stripping off the upper three bits of the virtual address.  For example, virtual address 0x80000000 corresponds to physical address 0x0000000, and so on. 
<P>

<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 ALIGN="center">
         <TR><td align="center"><font face="Arial" size="-2" color="#29296B">
Copyright &copy; 1999<br>
Nintendo of America Inc. All Rights Reserved<BR>
Nintendo and N64 are registered trademarks of Nintendo<br>
Last Updated January, 1999</FONT>
</TD></TR></TABLE>
</body>
</html>