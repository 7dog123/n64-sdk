<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<BASE TARGET="main">
<head>
<title>N64 Programming Manual Chapter 18</title>
</head>
<body bgcolor="#FFFFFF">

<table border=0><tr><td><a target="_top" href="../pro18/index18.5.html"><img border=0 src="../images/previous.gif"></a></td>
<td>&nbsp;</td>
<td><a target="_top" href="../pro18/index18.7.html"><img border=0  src="../images/next.gif"></a></td></tr></table>
<P>

<b><font face="arial" color="#29296b">MIDI and the Indy</font></b>

<P>
<font face="arial" size="-1" color="#000000">
Before using Midi Daemon, you will have to correctly configure your Indy for midi. Because there have been changes in both the midi software, and the serial ports, on the motherboard, it is recommended that only a recently purchased Indy and the latest software releases be used. 
<P>
Motherboards need to be of version 013 or newer. To determine the version of your motherboard, open your Indy, and on the front right of the motherboard, you will find a version number. The first four digits should be 8123 and they are followed by three more digits that are the version number. The revision number that follows the version number is not important. If you find that you have an Indy with an older version motherboard, contact SGI field service for a replacement board.
<P>
The Indy uses a standard Macintosh Computer Midi Interface. Because there are differences between the interfaces sold for the Mac, (particularly in the voltage levels necessary) not all Mac Midi Interfaces will work correctly. Insufficient testing has been done to recommend a particular brand. We have seen cases where interfaces that do not supply their own power, but instead draw their power from the Indy serial port will drop midi messages sent back to back. For that reason we do recommend that you purchase a midi interface that has its own power supply.
<P>
At present, we are recommending the installation of the DMedia 5.5 package, which contains the necessary midi drivers.
<P>
To configure your Indy for midi, you can use either of two methods. The first method, is to run startmidi. This utility is started from the command line, with arguments specifying which midi ports to turn on. This is the only way to turn on the internal midi port.
<P>
Alternately, you can turn on midi by using the Serial Port manager, in the System Manager tools. This provides a more user friendly interface, and once configured, a serial port will remain configured even after a reboot. If you find that selecting the System Manager or the Serial Port manager generates error messages pertaining to the object server, try the following sequence of commands:
<pre><font face="courier" size="3">/etc/init.d/cadmin stop
/etc/init.d/cadmin clean
/etc/init.d/cadmin start
</pre></font>
<P>
You can verify that your midi is working, by starting Midi Daemon with the -v (verbose) option. If midi is working, you will get a message printed in the window for every midi message received.
<P>
If you wish to use serial port number one for receiving midi, it is important to turn off automatic spawning of getty’s on that port. To do this, you must edit the file /etc/inittab. Find the line that starts with:
<P>
 &nbsp; &nbsp; t1:23:respawn:/sbin/getty ttyd1
<P>

Change this to:
<P>
 &nbsp; &nbsp; t1:23:off:/sbin/getty ttyd1

<P>
Save the file and reboot the Indy.
<P>

<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 ALIGN="center">
         <TR><td align="center"><font face="Arial" size="-2" color="#29296B">
Copyright &copy; 1999<br>
Nintendo of America Inc. All Rights Reserved<BR>
Nintendo and N64 are registered trademarks of Nintendo<br>
Last Updated January, 1999</FONT>
</TD></TR></TABLE>
</body>
</html>